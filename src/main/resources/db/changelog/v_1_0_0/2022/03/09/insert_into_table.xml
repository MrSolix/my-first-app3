<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.5.xsd">

    <changeSet id="1646923667211-20" author="vyacheslav">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM users
            </sqlCheck>
        </preConditions>
        <sql>
            INSERT INTO users (user_name,"password",name,age,user_type) VALUES
            ('teacher1','$2a$12$3sntQS7oN3j/kLxHGtrUSOgXvd6USe3awF9.nLlTpgswWVSjjqHCG','Cheburator',124,'teacher'),
            ('qwe453','$2a$12$PGIDIEUTp2M/aoQ.NF7blO9th24vNu1YbamXdoZwy9iWinqHTMMH6','qwe',123,'student'),
            ('teacher12','$2a$12$fRb6vuqoZlPp2bdWXd4TZ.Fj./Dx5Or47AU9xJc/TKlxZpy8YYG1u','kek',12,'teacher'),
            ('teacher','$2a$12$8RWIkuNE37xVh3Qj6qPZpOAENv1FPaffdtXpSNGrWJxCoe.PVk32q','Ychitel',12,'teacher'),
            ('admin','$2a$12$VwWdjeAqdDPtg0MKip2.T.9zbtulMCKL3iXa5DYBvjH6A4h/uYcn2','admin',999,'admin'),
            ('student','$2a$12$iDPdhEo8ewcqwqagAVjYJ.SMES4piBWmusiZ76uoR.vKCI1aceYBW','Slavik',26,'student');
        </sql>
    </changeSet>

    <changeSet id="1646923667211-26" author="vyacheslav">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM salaries
            </sqlCheck>
        </preConditions>
        <sql>
            INSERT INTO salaries (teacher_id,salary) VALUES
            (1,2000),
            (3,5000),
            (4,10000);
        </sql>
    </changeSet>

    <changeSet id="1646923667211-21" author="vyacheslav">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM authority
            </sqlCheck>
        </preConditions>
        <sql>
            INSERT INTO authority (id,name) VALUES
            (1,'READ_SALARIES');
        </sql>
    </changeSet>

    <changeSet id="1646923667211-21" author="vyacheslav">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM authority
            </sqlCheck>
        </preConditions>
        <sql>
            INSERT INTO authority (id,name) VALUES
            (1,'READ_SALARIES');
        </sql>
    </changeSet>

    <changeSet id="1646923667211-25" author="vyacheslav">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM "role"
            </sqlCheck>
        </preConditions>
        <sql>
            INSERT INTO "role" (id,name) VALUES
            (1,'STUDENT'),
            (2,'TEACHER'),
            (3,'ADMIN');
        </sql>
    </changeSet>

    <changeSet id="1646923667211-28" author="vyacheslav">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM user_role
            </sqlCheck>
        </preConditions>
        <sql>
            INSERT INTO user_role (user_id,role_id) VALUES
            (5,3),
            (1,2),
            (2,1),
            (3,2),
            (4,2),
            (6,1);
        </sql>
    </changeSet>

    <changeSet id="1646923667211-27" author="vyacheslav">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM user_authority
            </sqlCheck>
        </preConditions>
        <sql>
            INSERT INTO user_authority (user_id,authority_id) VALUES
            (5,1);
        </sql>
    </changeSet>

    <changeSet id="1646923667211-23" author="vyacheslav">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM "group"
            </sqlCheck>
        </preConditions>
        <sql>
            INSERT INTO "group" (id,teacher_id) VALUES
            (1,4),
            (2,3),
            (3,6);
        </sql>
    </changeSet>

    <changeSet id="1646923667211-22" author="vyacheslav">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM grades
            </sqlCheck>
        </preConditions>
        <sql>
            INSERT INTO grades (id,theme_name,grade,student_id) VALUES
            (1,'Math',55,2),
            (2,'Math',32,2),
            (3,'English',78,2),
            (4,'English',89,2);
        </sql>
    </changeSet>

    <changeSet id="1646923667211-24" author="vyacheslav">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM group_student
            </sqlCheck>
        </preConditions>
        <sql>
            INSERT INTO group_student (group_id,student_id) VALUES
            (1,6),
            (2,2);
        </sql>
    </changeSet>

</databaseChangeLog>